<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <script src="js/app.js"></script>
</head>
<body>


<script>
    // Implici try catch in promise's excecutor
    new Promise((resolve, reject) => {
        throw new Error('Whoops!');
    })
    .catch(error => {
        console.log("Ho catchato l'errore");
    })
    .then(() => {
        console.log("vado avanti dopo aver catchato l'errore.");
    })

    // // Catching inside .then()
    // new Promise((resolve, reject) => {
    //     resolve("ok");
    // }).then((result) => {
    //     blabla(); // no such function
    // }).catch(alert);


    // // Global event listener approach
    // window.addEventListener('unhandledrejection', function (event) {
    //     // the event object has two special properties:
    //     console.log(event.promise); // [object Promise] - the promise that generated the error
    //     console.log(event.reason); // Error: Whoops! - the unhandled error object
    // });

    // // no catch block
    // new Promise(function () {
    //     noSuchFunction(); // Error here (no such function)
    // })
    // .then(() => {
    //     // successful promise handlers, one or more
    //     console.log("Won't return");
    // })

    // // tasks 1
    // new Promise(function (resolve, reject) {
    //     setTimeout(() => {
    //         throw new Error("Whoops!");
    //     }, 1000);
    // }).catch(alert);

</script>

</body>
</html>
